<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>	<head>		<link rel="stylesheet" type="text/css" href="style.css">		<title>Retrieving table data</title>		<script type="text/javascript">			function GetIds(Arg) {				xmlhttp = null;				if (window.XMLHttpRequest) {					xmlhttp = new XMLHttpRequest()				} else if (window.ActiveXObject) {					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")				}				if (xmlhttp != null) {					xmlhttp.onreadystatechange = onStateChangeIds;					var Url = "http://projects.reviewjournal.com/data/index8.php";					xmlhttp.open("GET", Url, true);					xmlhttp.overrideMimeType('application/json');					xmlhttp.send(null);				} else {					alert("The XMLHttpRequest not supported");				}			}			function onStateChangeIds() {				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {					var body = document.getElementsByTagName("body")[0];					// creates a <table> element and a <tbody> element					var tbl = document.createElement("table");					//window.onload = function() { example4();					var tblBody = document.createElement("tbody");					var jsonResponse = JSON.parse(xmlhttp.responseText);					var entry = jsonResponse.top;					// creating all cells					for (var j = 0; j < entry.length; j++) {						// creates a table row						var row = document.createElement("tr");						// Create a <td> element and a text node, make the text						// node the contents of the <td>, and put the <td> at						// the end of the table row						var cell = document.createElement("td");						//var cellText = document.createTextNode("cell is row " + j + ", column " + i);						//cell.onclick = function() {						//	alert("Cell value in process")						//};						var cellText = document.createTextNode(entry[j].id);						cell.appendChild(cellText);						cell.height = '50px';						cell.width = '200px';						row.appendChild(cell);						//row.onclick = function() {						//var v = row[0].firstChild.innerHTML + "\n";						//	alert("row clicked " + row.rowIndex);						//}						// add the row to the end of the table body						tblBody.appendChild(row);					}					var nodeList = tblBody.childNodes;					//alert("nbr of rows " +  nodeList.length);					for (var i = 0; i < nodeList.length; i++) {						nodeList[i].onclick = (function() {// closure							var cnt = i;							// save the counter to use in the function							return function() {								//alert("row" + cnt + " data=" + this.cells[0].innerHTML);								var p = this.cells[0].innerHTML;								GetAddresses(p);							}						})(i);					}					//nodeList.onclick = function() {					//	alert("clicking nodelist row " + nodeList);					//}					//row.onclick = function() {					//var v = row[0].firstChild.innerHTML + "\n";					//alert("row clicked " + row.rowIndex);					//var table = document.getElementById("table");					//var rows = tbl.rows;					//var arr = Array.prototype.slice.call( row )					// or table.getElementsByTagName("tr");					//alert("count " + arr.length);					/*					for (var i = 0; i < rows.length; i++) {					rows[i].onclick = (function() {// closure					var cnt = i;					// save the counter to use in the function					//return function() {					alert("row" + cnt + " data=" + this.cells[0].innerHTML);					//}					})(i);					}					*/					//}					// put the <tbody> in the <table>					tbl.appendChild(tblBody);					// appends <table> into <body>					body.appendChild(tbl);					// sets the border attribute of tbl to 2;					tbl.setAttribute("border", "2");					sometext = document.createTextNode("\x00");					// blank line					body.appendChild(sometext);				} else {					//alert("statusText: " + xmlhttp.statusText + "\nHTTP status code: " + xmlhttp.status);				}			}			function GetAddresses(Arg) {				//alert("Arg is : " + Arg);				xmlhttp = null;				if (window.XMLHttpRequest) {					xmlhttp = new XMLHttpRequest()				} else if (window.ActiveXObject) {					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")				}				if (xmlhttp != null) {					xmlhttp.onreadystatechange = onStateChangeAddrs;					var Url = "http://projects.reviewjournal.com/data/index7.php?name=" + Arg;					xmlhttp.open("GET", Url, true);					xmlhttp.overrideMimeType('application/json');					xmlhttp.send(null);				} else {					alert("The XMLHttpRequest not supported");				}			}			function onStateChangeAddrs() {				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {					var body = document.getElementsByTagName("body")[0];					// creates a <table> element and a <tbody> element					var tbl = document.createElement("table");					var tblBody = document.createElement("tbody");					var jsonResponse = JSON.parse(xmlhttp.responseText);					var entry = jsonResponse.top;					// creating all cells					for (var j = 0; j < entry.length; j++) {						// creates a table row						var row = document.createElement("tr");						// Create a <td> element and a text node, make the text						// node the contents of the <td>, and put the <td> at						// the end of the table row						var cell = document.createElement("td");						//cell.onclick = function() {						//	alert("Map in process " + "index nbr " + j)						//};						//var cellText = document.createTextNode("cell is row " + j + ", column " + i);						var cellText = document.createTextNode(entry[j].street);						//alert("adding cell " + entry[j].street + " index is " + j);						cell.appendChild(cellText);						cell.height = '50px';						cell.width = '300x';						//cell.onclick = function() {						//	alert("clicked cell " + "index nbr " + j)						//};						row.appendChild(cell);						//row.onclick = function() {						//	alert("Row clicked " + rowIndex)						//};						//var Row = document.getElementById("somerow");						//var Cells = Row.getElementsByTagName("td");						//alert(cell[0].innerText);						// add the row to the end of the table body						tblBody.appendChild(row);					}					var nodeList = tblBody.childNodes;					alert("nbr of addresses " + nodeList.length);					for (var i = 0; i < nodeList.length; i++) {						nodeList[i].onclick = (function() {// closure							var cnt = i;							// save the counter to use in the function							return function() {								if (window.confirm('Display map for ' + this.cells[0].innerHTML)) {        							window.location.href='map.html';    							}																								//alert("(row " + cnt + ") " + this.cells[0].innerHTML);							}						})(i);					}					// put the <tbody> in the <table>					tbl.appendChild(tblBody);					// appends <table> into <body>					body.appendChild(tbl);					// sets the border attribute of tbl to 2;					tbl.setAttribute("border", "2");					//sometext = document.createTextNode("\x00");					//body.appendChild(sometext);					//alert(tblBody);					var nodeList = tblBody.childNodes;					//alert(nodeList);					//alert(nodeList.length);					var str = "";					//for (var index = 0; index < nodeList.length; index++) {					//alert("nodeList idx " + nodeList[index].childNodes.length);					//alert("nodeList idx " + nodeList[index].firstChild);					//alert("nodeList idx " + nodeList[index].firstChild.innerHTML);					//var evx = nodeList[index].firstChild.innerHTML;					//var ev = nodeList[index];					//str = str + nodeList[index].firstChild.innerHTML + "\n";					//ev.onclick = function() {					//	alert("Clicked here " + "index nbr " + index + " " + evx);					//};					//}					//alert(str);				} else {					//alert("statusText: " + xmlhttp.statusText + "\nHTTP status code: " + xmlhttp.status  + "\nHTTP ready state: " + xmlhttp.readyState);				}			}			/*			function addRowHandlers() {			var table = document.getElementById("table");			var rows = table.getElementsByTagName("tr");			for ( i = 1; i < rows.length; i++) {			var row = table.rows[i];			row.onclick = function(row) {			return function() {			var cell = myrow.getElementsByTagName("td")[0];			var id = cell.innerHTML;			alert("id:" + id);			};			}(row);			}			}			*/			//set a variable to refer to a specific ID			//var specialSection = document.getElementById("specialSection");			//initiate this function when the user clicks the ID			//var myrow       = mytablebody.getElementsByTagName("tr")[0];			//specialSection.onclick = function() {			//	alert("Hello World")			//};			function example4() {				var table = document.getElementById("table");				var rows = table.rows;				// or table.getElementsByTagName("tr");				for (var i = 0; i < rows.length; i++) {					rows[i].onclick = (function() {// closure						var cnt = i;						// save the counter to use in the function						return function() {							alert("row" + cnt + " data=" + this.cells[0].innerHTML);						}					})(i);				}			}			function displayResult() {				alert(document.getElementById("myTable").rows.length);			}			function formReset2() {				var parent = document.getElementById("table");				var child = document.getElementById("tbody");				parent.removeChild(child);			}			function formReset() {				//alert("reset form");				//var d = document.getElementsByTagName("body");				//var t = document.hasChildNodes();				//document.formReset;				//document.removeChild(t);				//alert(t);				var mybody = document.getElementsByTagName("body")[0];				var mytable = mybody.getElementsByTagName("table")[0];				var mytablebody = mytable.getElementsByTagName("tbody")[0];				//alert(mytablebody)				var myrow = mytablebody.getElementsByTagName("tr")[0];				//alert(myrow);				var mycel = myrow.getElementsByTagName("td")[0];				//alert(mycel);				var collection = mytable.rows;				//alert(collection);				var cLength = collection.length;				alert(cLength);				//for ( i = 0; i < cLength; i++) {				var i = 0;				while (i < cLength) {					mytable.deleteRow(i);					i++;				}				//alert("Removed node: " + y[i].childNodes[0].nodeValue);				//alert(collection.length);				//alert("end");				//alert(mytablebody.getLength());				//var x=document.getElementsByTagName("body");				//alert(x.length);				//var y=document.getElementsByTagName("table");				//alert(y.length);				//var t1 = document.getElementsByTagName("table")[0];				//alert(t1)				//var t2 = document.getElementsByTagName("tbody")[0];				//alert(t2);				//var size = t2.getLength();				//alert(size);				//t1.deleteRow(2);				//t1.deleteRow(3);				//t1.deleteRow(6);				//var t2 = document.getElementsByTagName("tbody")[0];				//alert(t2)				//var parent=document.getElementsByTagName("body");				//var child=document.getElementsByTagName("table");				//parent.removeChild(child);				//document.clear();				//document.close();				//document.write(" ");				//y = document.getElementsByTagName("body");				//y=document.getElementsByTagName("body")[0];				//x=document.documentElement.removeChild(y);				//for ( i = 0; i < y.length; i++) {				//	alert("Removed node: " + y[i].childNodes[0].nodeValue);				//}			}					</script>	</head>	<body>		<p>			To re-generate, click Reload (or Refresh).		</p>		<p>			<input type="button" value="Retrieve Order Ids" onclick="GetIds()" style="height:50px; width:200px" >		</p>		<form action="index.html">			<p>				<input type="submit" value="Reset form" style="height:50px; width:200px" >			</p>		</form>		<form action="map.html">			<p>				<input type="submit" value="Get Map" style="height:50px; width:200px" >			</p>		</form>	</body></html>