<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>	<head>		<link rel="stylesheet" type="text/css" href="style.css">		<title>Retrieving table data</title>		<script type="text/javascript">			function GetIds(Arg) {				xmlhttp = null;				if (window.XMLHttpRequest) {					xmlhttp = new XMLHttpRequest()				} else if (window.ActiveXObject) {					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")				}				if (xmlhttp != null) {					xmlhttp.onreadystatechange = onStateChangeIds;					var Url = "http://projects.reviewjournal.com/data/index8.php";					xmlhttp.open("GET", Url, true);					xmlhttp.overrideMimeType('application/json');					xmlhttp.send(null);				} else {					alert("The XMLHttpRequest not supported");				}			}			function onStateChangeIds() {				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {					var body = document.getElementsByTagName("body")[0];					// creates a <table> element and a <tbody> element					var tbl = document.createElement("table");										var tblBody = document.createElement("tbody");					var jsonResponse = JSON.parse(xmlhttp.responseText);					var entry = jsonResponse.top;					// creating all cells					for (var j = 0; j < entry.length; j++) {						// creates a table row						var row = document.createElement("tr");						// Create a <td> element and a text node, make the text						// node the contents of the <td>, and put the <td> at						// the end of the table row						var cell = document.createElement("td");												var cellText = document.createTextNode(entry[j].id);						cell.appendChild(cellText);						cell.height = '50px';						cell.width = '200px';						row.appendChild(cell);												tblBody.appendChild(row);					}					var nodeList = tblBody.childNodes;					//alert("nbr of rows " +  nodeList.length);					for (var i = 0; i < nodeList.length; i++) {						nodeList[i].onclick = (function() {// closure							var cnt = i;							// save the counter to use in the function							return function() {																var p = this.cells[0].innerHTML;								GetAddresses(p);							}						})(i);					}									// put the <tbody> in the <table>					tbl.appendChild(tblBody);					// appends <table> into <body>					body.appendChild(tbl);					// sets the border attribute of tbl to 2;					tbl.setAttribute("border", "2");					sometext = document.createTextNode("\x00");					// blank line					body.appendChild(sometext);				} else {					//alert("statusText: " + xmlhttp.statusText + "\nHTTP status code: " + xmlhttp.status);				}			}			function GetAddresses(Arg) {					xmlhttp = null;				if (window.XMLHttpRequest) {					xmlhttp = new XMLHttpRequest()				} else if (window.ActiveXObject) {					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")				}				if (xmlhttp != null) {					xmlhttp.onreadystatechange = onStateChangeAddrs;					var Url = "http://projects.reviewjournal.com/data/index7.php?name=" + Arg;					xmlhttp.open("GET", Url, true);					xmlhttp.overrideMimeType('application/json');					xmlhttp.send(null);				} else {					alert("The XMLHttpRequest not supported");				}			}			function onStateChangeAddrs() {				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {					var body = document.getElementsByTagName("body")[0];					// creates a <table> element and a <tbody> element					var tbl = document.createElement("table");					var tblBody = document.createElement("tbody");					var jsonResponse = JSON.parse(xmlhttp.responseText);					var entry = jsonResponse.top;					// creating all cells					for (var j = 0; j < entry.length; j++) {						// creates a table row						var row = document.createElement("tr");						// Create a <td> element and a text node, make the text						// node the contents of the <td>, and put the <td> at						// the end of the table row						var cell = document.createElement("td");												var streetText = document.createTextNode(entry[j].street);																																	cell.appendChild(streetText);												cell.height = '50px';						cell.width = '300x';												row.appendChild(cell);													var cell = document.createElement("td");						var idAddressText = document.createTextNode(entry[j].idAddress);						cell.appendChild(idAddressText);												cell.height = '50px';						cell.width = '300x';												row.appendChild(cell);																							tblBody.appendChild(row);					}					var nodeList = tblBody.childNodes;					alert("nbr of addresses " + nodeList.length);																				//longitude = -114.986544;					//latitude = 35.992394;					for (var i = 0; i < nodeList.length; i++) {						nodeList[i].onclick = (function() {// closure							var cnt = i;							// save the counter to use in the function							return function() {								var str = this.cells[0].innerHTML;																								if (window.confirm('Display map for ' + str)) {											var ref = 'navigate.html' + '?id=' + this.cells[1].innerHTML;										//var ref = 'map.html' + '?lon=' + longitude + "&lat=" + latitude;																						//alert(ref);        							window.location.href=ref;    							}								}						})(i);					}					// put the <tbody> in the <table>					tbl.appendChild(tblBody);					// appends <table> into <body>					body.appendChild(tbl);					// sets the border attribute of tbl to 2;					tbl.setAttribute("border", "2");										var nodeList = tblBody.childNodes;										var str = "";									} else {					//alert("statusText: " + xmlhttp.statusText + "\nHTTP status code: " + xmlhttp.status  + "\nHTTP ready state: " + xmlhttp.readyState);				}			}					/*			function example4() {				var table = document.getElementById("table");				var rows = table.rows;				// or table.getElementsByTagName("tr");				for (var i = 0; i < rows.length; i++) {					rows[i].onclick = (function() {// closure						var cnt = i;						// save the counter to use in the function						return function() {							alert("row" + cnt + " data=" + this.cells[0].innerHTML);						}					})(i);				}			}			*/			function displayResult() {				alert(document.getElementById("myTable").rows.length);			}			function formReset2() {				var parent = document.getElementById("table");				var child = document.getElementById("tbody");				parent.removeChild(child);			}			function formReset() {								var mybody = document.getElementsByTagName("body")[0];				var mytable = mybody.getElementsByTagName("table")[0];				var mytablebody = mytable.getElementsByTagName("tbody")[0];				//alert(mytablebody)				var myrow = mytablebody.getElementsByTagName("tr")[0];				//alert(myrow);				var mycel = myrow.getElementsByTagName("td")[0];				//alert(mycel);				var collection = mytable.rows;				//alert(collection);				var cLength = collection.length;				alert(cLength);								var i = 0;				while (i < cLength) {					mytable.deleteRow(i);					i++;				}							}			</script>	</head>	<body>		<p>			To re-generate, click Reload (or Refresh).		</p>		<p>			<input type="button" value="Retrieve Order Ids" onclick="GetIds()" style="height:50px; width:200px" >		</p>		<form action="index.html">			<p>				<input type="submit" value="Reset form" style="height:50px; width:200px" >			</p>		</form>			</body></html>