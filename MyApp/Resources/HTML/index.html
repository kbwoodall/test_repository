<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>Retrieving table data</title>

		<script type="text/javascript">
			var xmlhttp
			function GetIds(Arg) {

				xmlhttp = null;
				var Url = "XMLHttpRequest_responseXML.php"
				if (window.XMLHttpRequest) {
					xmlhttp = new XMLHttpRequest()
				} else if (window.ActiveXObject) {
					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")
				}
				if (xmlhttp != null) {
					xmlhttp.onreadystatechange = onStateChange;
					Url = Url + "?Date=" + escape(Arg) + "&NoCache=" + new Date().getTime()
					var Url = "http://projects.reviewjournal.com/data/index8.php";
					xmlhttp.open("GET", Url, true);
					xmlhttp.overrideMimeType('application/json');
					xmlhttp.send(null);
				} else {
					alert("The XMLHttpRequest not supported");
				}

			}

			function onStateChange() {
				if (xmlhttp.readyState == 4) {
					if (xmlhttp.status == 200) {

						var body = document.getElementsByTagName("body")[0];
						// creates a <table> element and a <tbody> element
						var tbl = document.createElement("table");
						var tblBody = document.createElement("tbody");
						var jsonResponse = JSON.parse(xmlhttp.responseText);
						var entry = jsonResponse.top;
						// creating all cells
						for (var j = 0; j < entry.length; j++) {
							// creates a table row
							var row = document.createElement("tr");
							// Create a <td> element and a text node, make the text
							// node the contents of the <td>, and put the <td> at
							// the end of the table row
							var cell = document.createElement("td");
							//var cellText = document.createTextNode("cell is row " + j + ", column " + i);
							var cellText = document.createTextNode("Order id:  " + entry[j].id);

							cell.appendChild(cellText);
							row.appendChild(cell);
							// add the row to the end of the table body
							tblBody.appendChild(row);
						}
						// put the <tbody> in the <table>
						tbl.appendChild(tblBody);
						// appends <table> into <body>
						body.appendChild(tbl);
						// sets the border attribute of tbl to 2;
						tbl.setAttribute("border", "2");

					} else {
						alert("statusText: " + xmlhttp.statusText + "\nHTTP status code: " + xmlhttp.status);
					}

				}
			}

			function GetAddresses(Arg) {

				xmlhttp = null;
				var Url = "XMLHttpRequest_responseXML.php"
				if (window.XMLHttpRequest) {
					xmlhttp = new XMLHttpRequest()
				} else if (window.ActiveXObject) {
					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")
				}
				if (xmlhttp != null) {
					xmlhttp.onreadystatechange = onStateChange;
					Url = Url + "?Date=" + escape(Arg) + "&NoCache=" + new Date().getTime()
					var Url = "http://projects.reviewjournal.com/data/index7.php?name=5";
					xmlhttp.open("GET", Url, true);
					xmlhttp.overrideMimeType('application/json');
					xmlhttp.send(null);
				} else {
					alert("The XMLHttpRequest not supported");
				}

			}

			function onStateChange() {
				if (xmlhttp.readyState == 4) {
					if (xmlhttp.status == 200) {
						var body = document.getElementsByTagName("body")[0];
						// creates a <table> element and a <tbody> element
						var tbl = document.createElement("table");
						var tblBody = document.createElement("tbody");
						var jsonResponse = JSON.parse(xmlhttp.responseText);
						var entry = jsonResponse.top;
						// creating all cells
						for (var j = 0; j < entry.length; j++) {
							// creates a table row
							var row = document.createElement("tr");
							// Create a <td> element and a text node, make the text
							// node the contents of the <td>, and put the <td> at
							// the end of the table row
							var cell = document.createElement("td");
							//var cellText = document.createTextNode("cell is row " + j + ", column " + i);
							var cellText = document.createTextNode(entry[j].street);

							cell.appendChild(cellText);
							row.appendChild(cell);
							// add the row to the end of the table body
							tblBody.appendChild(row);
						}
						// put the <tbody> in the <table>
						tbl.appendChild(tblBody);
						// appends <table> into <body>
						body.appendChild(tbl);
						// sets the border attribute of tbl to 2;
						tbl.setAttribute("border", "2");

					} else {
						alert("statusText: " + xmlhttp.statusText + "\nHTTP status code: " + xmlhttp.status);
					}
				}
			}

		</script>

	</head>
	<body>
		<p>
			To re-generate, click Reload (or Refresh).
		</p>

		<p>
			<input type="button" value="Retrieve Addresses" onclick="GetAddresses()">
		</p>

	</body>
</html>

			