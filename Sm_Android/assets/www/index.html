<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html>	<head>		<link rel="stylesheet" type="text/css" href="style.css">		<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />		<title>Retrieving table data</title>		<script src="jquery-1.9.1.js"></script>		<script src="jquery-ui-1.10.2.custom.js"></script>		<script src="jquery-ui-1.10.2.custom.min.js"></script>		<!--		<script src="script.js"></script>		<script src="script.min.js"></script>		-->		<script type="text/javascript">			function GetIds(Arg) {				xmlhttp = null;				if (window.XMLHttpRequest) {					xmlhttp = new XMLHttpRequest()				} else if (window.ActiveXObject) {					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")				}				if (xmlhttp != null) {					xmlhttp.onreadystatechange = onStateChangeIds;					var Url = "http://projects.reviewjournal.com/data/index8.php";					xmlhttp.open("GET", Url, true);					xmlhttp.overrideMimeType('application/json');					xmlhttp.send(null);				} else {					alert("The XMLHttpRequest not supported");				}			}			function onStateChangeIds() {				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {					var orderBody = document.getElementsByTagName("body")[0];					// creates a <table> element and a <tbody> element					var orderTable = document.createElement("table");					var orderTableBody = document.createElement("tbody");					var jsonResponse = JSON.parse(xmlhttp.responseText);					var entry = jsonResponse.top;					// creating all cells					for (var j = 0; j < entry.length; j++) {						// creates a table row						var row = document.createElement("tr");						// Create a <td> element and a text node, make the text						// node the contents of the <td>, and put the <td> at						// the end of the table row						var cell = document.createElement("td");						var cellText = document.createTextNode(entry[j].id);						cell.appendChild(cellText);						cell.height = '50px';						cell.width = '200px';						row.appendChild(cell);						orderTableBody.appendChild(row);						//var all = $("#td");						//alert(all);					}					var nodeList = orderTableBody.childNodes;					//alert("nbr of rows " +  nodeList.length);					for (var i = 0; i < nodeList.length; i++) {						nodeList[i].onclick = (function() {// closure							var cnt = i;							// save the counter to use in the function							return function() {								var p = this.cells[0].innerHTML;								//alert("#p");								GetAddresses(p);							}						})(i);					}					// put the <tbody> in the <table>					orderTable.appendChild(orderTableBody);					// appends <table> into <body>					orderBody.appendChild(orderTable);					// sets the border attribute of tbl to 2;					orderTable.setAttribute("border", "2");					sometext = document.createTextNode("\x00");					// blank line					orderBody.appendChild(sometext);				} else {					//alert("statusText: " + xmlhttp.statusText + "\nHTTP status code: " + xmlhttp.status);				}			}			function GetAddresses(Arg) {				xmlhttp = null;				if (window.XMLHttpRequest) {					xmlhttp = new XMLHttpRequest()				} else if (window.ActiveXObject) {					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP")				}				if (xmlhttp != null) {					xmlhttp.onreadystatechange = onStateChangeAddrs;					var Url = "http://projects.reviewjournal.com/data/index7.php?name=" + Arg;					xmlhttp.open("GET", Url, true);					xmlhttp.overrideMimeType('application/json');					xmlhttp.send(null);				} else {					alert("The XMLHttpRequest not supported");				}			}			function onStateChangeAddrs() {				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {					var aBody = document.getElementsByTagName("body")[0];					var divTag = document.createElement('div');					divTag.id = "div1";					// creates a <table> element and a <tbody> element					var aTable = document.createElement("table");					var aTableBody = document.createElement("tBody");					var jsonResponse = JSON.parse(xmlhttp.responseText);					var entry = jsonResponse.top;					//too many entries don't display					if (window.confirm('Number of addresses, continue ' + entry.length)) {						//}						// creating all cells						for (var j = 0; j < entry.length; j++) {							// creates a table row							var row = document.createElement("tr");							// Create a <td> element and a text node, make the text							// node the contents of the <td>, and put the <td> at							// the end of the table row							var cell = document.createElement("td");							var streetText = document.createTextNode(entry[j].street);							cell.appendChild(streetText);							cell.height = '50px';							cell.width = '300x';							row.appendChild(cell);							var cell = document.createElement("td");							var idAddressText = document.createTextNode(entry[j].idAddress);							cell.appendChild(idAddressText);							cell.height = '50px';							cell.width = '300x';							row.appendChild(cell);							aTableBody.appendChild(row);						}						var nodeList = aTableBody.childNodes;						//alert("nbr of addresses " + nodeList.length);						//longitude = -114.986544;						//latitude = 35.992394;						for (var i = 0; i < nodeList.length; i++) {							nodeList[i].onclick = (function() {// closure								var cnt = i;								// save the counter to use in the function								return function() {									var str = this.cells[0].innerHTML;									if (window.confirm('Display map for ' + str)) {										var ref = 'navigate.html' + '?id=' + this.cells[1].innerHTML;										//var ref = 'map.html' + '?lon=' + longitude + "&lat=" + latitude;										//alert(ref);										window.location.href = ref;									}								}							})(i);						}						aBody.appendChild(divTag);						// put the <tbody> in the <table>						aTable.appendChild(aTableBody);						// appends <table> into <body>						aBody.appendChild(aTable);						// sets the border attribute of tbl to 2;						aTable.setAttribute("border", "2");						document.getElementById("div1").appendChild(aTable);						//abody.appendChild(divTag);						//ar nodeList = addressTableBody.childNodes;						//var str = "";						//finalTable = tbl;					}				} else {					//alert("statusText: " + xmlhttp.statusText + "\nHTTP status code: " + xmlhttp.status  + "\nHTTP ready state: " + xmlhttp.readyState);				}			}			/*			 function example4() {			 var table = document.getElementById("table");			 var rows = table.rows;			 // or table.getElementsByTagName("tr");			 for (var i = 0; i < rows.length; i++) {			 rows[i].onclick = (function() {// closure			 var cnt = i;			 // save the counter to use in the function			 return function() {			 alert("row" + cnt + " data=" + this.cells[0].innerHTML);			 }			 })(i);			 }			 }			 */			function ResetAddresses() {				//alert(document.getElementById("myTable").rows.length);				//alert("reset addresses ");				//$('div').removeClass('aClassName')				$('div').remove();				//$('.hello').remove();				//alert("xxx  " + tblBody);				//$("addressTable").remove();				//addressTable = undefined;				//("table" = null);				//$("addressTbl").remove();			}			function ResetOrders() {				//var parent = document.getElementById("table");				//var child = document.getElementById("tbody");				//parent.removeChild(child);				//$("#tbody").remove();				//var xt = document.getElementById("table");				//alert('resetting form');				//var d = document.getElementById("table")				//d.removeCh				alert("reset orders ");				//$("table").remove();				//var d = document.getElementByName('tbl');				//var olddiv = document.getElementByname('tblbody');				//d.removeChild(olddiv);			}			function ResetForm() {				$("table").remove();				$("tableAddress").remove();			}			function formReset2() {				var mybody = document.getElementsByTagName("body")[0];				var mytable = mybody.getElementsByTagName("table")[0];				var mytablebody = mytable.getElementsByTagName("tbody")[0];				//alert(mytablebody)				var myrow = mytablebody.getElementsByTagName("tr")[0];				//alert(myrow);				var mycel = myrow.getElementsByTagName("td")[0];				//alert(mycel);				var collection = mytable.rows;				//alert(collection);				var cLength = collection.length;				alert(cLength);				var i = 0;				("#mytable.remove()");				//while (mytable != null) {				//	mytable.deleteRow(i);				//	i++;				//}			}			/*			 $.ajax({			 url: "http://projects.reviewjournal.com/data/index8.php",			 context: document.body			 }).done(function() {			 alert("returning from ajax");			 //$(this).addClass("done");			 });			 */			var filename = "http://projects.reviewjournal.com/data/index7.php?name=5";			var filename2 = "http://projects.reviewjournal.com/data/index8.php";			//var searchVal = "5";			/*			 $.ajax({			 type: "GET",			 url: filename,			 async: true,			 //data: "{queryString:'" + searchVal + "'}",			 contentType: "application/json; charset=utf-8",			 beforeSend: function(x) {			 //alert("before data is");			 //if(x &amp;&amp; x.overrideMimeType) {			 //	x.overrideMimeType("application/j-son;charset=UTF-8");			 //}			 },			 dataType: "json",			 success: function(data){			 //alert('ok ' + data);			 var s = JSON.stringify(data);			 //alert(s);			 //alert(data.top[0].id);			 //alert(data.top[1].distributor);			 //alert(data.top[2].idAddress);			 //$(data.top).each(function(index){			 //	alert(index + " " + this.street);			 //$(list).append('<li id="listitem">' + this.id + '</li>');			 //});			 //var jsonResponse = JSON.parse(data);			 //var e = jsonResponse.top;			 //var estr = JSON.stringify(e);			 //alert(estr);			 //do your stuff with the JSON data			 }			 });			 //var jsonResponse = JSON.parse(xmlhttp.responseText);			 //var entry = jsonResponse.top;			 // creating all cells			 //for (var j = 0; j < entry.length; j++) {			 // creates a table row			 //var row = document.createElement("tr");			 /*			 $.ajax({			 dataType: "json",			 url: "http://projects.reviewjournal.com/data/index8.php",			 data: data,			 success: success			 });			 */			/*			 var nUrl = "http://projects.reviewjournal.com/data/index8.php";			 $.getJSON(nUrl, {			 tags: "top",			 tagmode: "any",			 format: "json"			 })			 .done(function( data ) {			 $.each( data.items, function( i, item ) {			 alert("item is ");			 //$( "<img/>" ).attr( "src", item.media.m ).appendTo( "#images" );			 //if ( i === 3 ) {			 //	return false;			 //}			 });			 });			 */			$(function() {				$("#datepicker").datepicker();			});		</script>	</head>	<body>		<!--		<button>Click me</button>		<p>This is a paragraph.</p>		<p>This is another paragraph.</p>		-->		<p>		<img src="img/gad_logo.png"  width="200" height="100">		</p>			<p>			<input type="button" value="Retrieve Order Ids" onclick="GetIds()" style="height:50px; width:200px" >		</p>		<!--		<p>		<input type="button" value="Reset orders" onclick="ResetOrders()" style="height:50px; width:200px" >		</p>		-->		<p>			<input type="button" value="Reset addresses" onclick="ResetAddresses()" style="height:50px; width:200px" >		</p>		<p>			<input type="button" value="Reset Form" onclick="ResetForm()" style="height:50px; width:200px" >		</p>		<!--		<p><br><b>Date:</b> <input type="text" id="datepicker" readonly='true' /></p>		<form action="index.html">		<p>		<input type="submit" value="Reset form" style="height:50px; width:200px" >		</p>		</form>		-->	</body></html>